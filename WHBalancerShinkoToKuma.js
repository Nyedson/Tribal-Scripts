//script by Sophie "Shinko to Kuma". Skype: live:sophiekitsune discord: Sophie#2418 website: https://shinko-to-kuma.my-free.website/// Updated on 13 oktober, improving data grabbing cycles, cleaning up after running scriptvar _0x1013=['name','Reached list creation','scrollHeight','&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','
        <tr ','checked','</td>
            <td width="50" style="text-align:center">','post','Ã–sszes vas','" class="sophLink">','test','</table></center></div>','swedish','Send resources','</td>
                    <td>Actual ironaverage after correction: ','Madeira por aldeia','source','it_IT','
                <div id="progressbar" style="width: 100%;
                background-color: #36393f;"><div id="progress" style="width: 0%;
                height: 35px;
                background-color: #4CAF50;
                text-align: center;
                line-height: 32px;
                color: black;"></div>
                </div>','#production_table th','
            </td>
            <td>
                <span class="res stone" style="padding-left:1em">&nbsp;</span>','Î Î·Î»ÏŒÏ‚ Î±Î½Î± Ï‡Ï‰ÏÎ¹ÏŒ','player','</td>
            <td>','Created by Sophie 'Shinko to Kuma'','css',', or village points are higher than the required setting: ','Lehm pro Dorf','Lemn per sat','push','ØªÙ…Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ù‡ Ù…Ù† 'Shinko to Kuma'','#trades_table tr','getItem','</td>
                    <td>','getElementById','round','Afstand','" class="slider" name="highPoints" oninput="sliderChange('highPoints',this.value)">
                            > <output id="highPoints"></output> points</td></tr>
                            <tr>
                            <td style="padding: 6px;">
                            <label for="highFarm">High farm</label></td><td style="padding: 6px;"><input type="range" min="0" max="33000" step="10" value="','#contentContainer','Ijzer','find','get','Ø§Ù„Ù‡Ø¯Ù','Done with this cycle','warehouseCapacity','adding res underway to target','Premium Beurs','match','Holz','Total fier','highPoints','Ferro por aldeia','pushed to clean array','Agyag','Total de madeira','.mheader.ressources','Lemn','desktop','Î£ÏÎ½Î¿Î»Î¿ Ï€Î·Î»Î¿Ï','Average is higher than capacity, reduce','Too much clay incoming in ','Total IsÃ¤','.collapsible','.res.stone,.warn_90.stone,.warn.stone','Legno totale','floor','span.bonus_icon_33','mimimalistGray','map_send','Ø·Ù…ÙŠ Ù„ÙƒÙ„ Ù‚Ø±ÙŠØ©','href','splice','Ferro per villaggio','#sendResources','split',' , ','userAgent','
        <style>
        .sophRowA {
            background-color: #F4E4BC;
            color: black;
            }
            .sophRowB {
            background-color: #fff5da;
            color: black;
            }
            .sophHeader {
            background-color: #c6a768;
            font-weight: bold;
            color: #803000;
            }
            .sophLink
            {
                color:#803000;
            }
        .btnSophie
        {
            linear-gradient(to bottom, #947a62 0%,#7b5c3d 22%,#6c4824 30%,#6c4824 100%)
            color:white
        }
        .btnSophie:hover
        { 
            linear-gradient(to bottom, #b69471 0%,#9f764d 22%,#8f6133 30%,#6c4d2d 100%);
            color: white
        }
        .collapsible {
            background-color: #F4E4BC;
            color: white;
            cursor: pointer;
            padding: 10px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 15px;
            }
            
            .active, .collapsible:hover {
            background-color:  #fff5da;
            }
            
            .collapsible:after {
            content: '+';
            color: white;
            font-weight: bold;
            float: right;
            margin-left: 5px;
            }
            
            .active:after {
            content: "-";
            }
            
            .content {
            padding: 0 5px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            background-color:  #5b5f66;
            color: white;
            }
            
            .item-padded {
            padding: 5px;
            }
            
            .flex-container {
            display: flex; 
            justify-content: space-between;
            align-items:center
            }
            
            .submenu{
                display:flex;
                flex-direction:column;
                position: absolute;
                left:0px;
                top:37px;
                min-width:240px;
            }
        </style>','ÎžÏÎ»Î¿ Î±Î½Î± Ï‡Ï‰ÏÎ¹ÏŒ','style','.res.wood,.warn_90.wood,.warn.wood','Holz pro Dorf','.content-border','" class="slider" name="lowPoints" oninput="sliderChange('lowPoints',this.value)">
                            < <output id="lowPoints"></output> points</td></tr>
                            <tr>
                            <td style="padding: 6px;">
                            <label for="highPoints">Finished villages</label></td><td style="padding: 6px;"><input type="range" min="0" max="13000" step="10" value="','Villaggio di origine','el_GR','Sistem','<div class='sophRowA' style='width:800px' ><table style='width:100%'><tr class="sophHeader"><td>Village</td><td>Points</td><td>Merchants left</td><td colspan="3">Resources</td><td>WH capacity</td></tr>','Iron','SuccessMessage','Argilla','Iron per village','Built out, reducing res left in village ','Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø·Ù…ÙŠ','Legno',':button[id^="building"]',' wood, ','. Adjusting what we leave at home to be ','Î Î·Î»ÏŒÏ‚','attr',' clay, and ','Excess is bigger than current available resources, setting it to current available','dataset','Argilla totale','Villaggio obiettivo','class='sophRowA'','<div class='sophRowA' style='width:800px' ><center><h1>Shortages:</h1><table class='sophHeader'><tr class='sophHeader'><td>Village name</td><td>Res</td></tr>','</td>
        </tr>','stringify','innerHTML','Ø­Ø¯ÙŠØ¯ Ù„ÙƒÙ„ Ù‚Ø±ÙŠØ©','needsMorePercentage','distance','availableMerchants',' height="40">
            <td>','Creating line ','Balanceador de recursos',' height="40">
            <td><a href="','#building','Argila','</td>
                    </tr>
                    <tr class='sophRowA'>
                    <td>Actual woodaverage after correction: ','Sat Tinta','-----------------------------------------------------------------------------------------','url','Verstuur grondstoffen','With your current settings, you end up having a lot of excess resources that can't be assigned. Consider increasing the 'highFarm' setting to a higher value, or increasing the lowPoints value so more villages are included to have priority. This is usually due to having a lot of villages completely built out, or having very high average resources, and not a lot of villages that need resources badly.
If you just want to balance evenly, set highFarm to 99999

With the current settings, you are trying to assign an average of ','length','.res.miron,.warn_90.miron,.warn.miron','highFarm','</div>
                <div id="sendResources" class="flex-container sophHeader" style="position: relative">
                    <button class="sophRowA collapsible" style="width: 250px;min-width: 230px;">Open settings menu</button>
                    <div class="content submenu" style="width: 500px;height:500px;z-index:99999">
                        <form id="settings">
                            <table style="border-spacing: 2px;">
                            <tr>
                            <td style="padding: 6px;">
                            <label for="isMinting">Ignore settings</label></td><td style="padding: 6px;"><input type="checkbox" name="isMinting"></td></tr>
                            <tr>
                            <td style="padding: 6px;">
                            <label for="lowPoints">Prioritise</label></td><td style="padding: 6px;"><input type="range" min="0" max="13000" step="10" value="','Argila por aldeia','Total wood',') in ','toString','
        <style>
        .sophRowA {
            background-color: #fecd00;
            color: #006aa8;
            }
            .sophRowB {
            background-color: #ffea00;
            color: #006aa8;
            }
            .sophHeader {
            background-color: #006aa8;
            font-weight: bold;
            color: #ffffdf;
            }
            .sophLink
            {
                color:#034166;
            }
        .btnSophie
        {
            background-image: linear-gradient(#00a1fe 0%, #5d9afd 30%, #1626ff 80%, #1f15e1 100%);
        }
        .btnSophie:hover
        { 
            background-image: linear-gradient(#b8bcf2 0%, #babbfc 30%, #8c86fa 80%, #969fff 100%);
        }
        .collapsible {
            background-color: #fecd00;
            color: white;
            cursor: pointer;
            padding: 10px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 15px;
            }
            
            .active, .collapsible:hover {
            background-color:  #ffea00;
            }
            
            .collapsible:after {
            content: '+';
            color: white;
            font-weight: bold;
            float: right;
            margin-left: 5px;
            }
            
            .active:after {
            content: "-";
            }
            
            .content {
            padding: 0 5px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            background-color:  #5b5f66;
            color: white;
            }
            
            .item-padded {
            padding: 5px;
            }
            
            .flex-container {
            display: flex; 
            justify-content: space-between;
            align-items:center
            }
            
            .submenu{
                display:flex;
                flex-direction:column;
                position: absolute;
                left:0px;
                top:37px;
                min-width:240px;
            }
        </style>','&#10;Iron in WH: ','
                    Clay: ','Warehouse balancer','game.php?&screen=overview_villages&mode=prod&page=-1&','error','Madeira','Î§Ï‰ÏÎ¹ÏŒ ÏƒÏ„ÏŒÏ‡Î¿Ï‚','                    Wood: ','builtOutPercentage','Warenhuis balancer','maxHeight','append','Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® Ï€ÏŒÏÏ‰Î½','Hout per dorp','Village: ','                    Max final capacity: ','undefined','replace','combined the sendings','Rohstoff vrschicke','Nyersanyagok kÃ¼ldÃ©se','Î£Î¯Î´ÎµÏÎ¿ Î±Î½Î± Ï‡Ï‰ÏÎ¹ÏŒ','</td>
                    </tr>
                    <tr class='sophRowB'>
                    <td>','settingsWHBalancerSophie','" class="slider" name="highFarm" oninput="sliderChange('highFarm',this.value)">
                            <output id="highFarm"></output> pop</td></tr>
                            <tr>
                            <td style="padding: 6px;">
                            <label for="builtOutPercentage">WH capacity finished villages: </label></td><td style="padding: 6px;"><input type="range" min="0" max="1" step="0.01" value="','active','innerText','div[id*='restart']',' iron per village that isn't considered small, or fully built (currently ','#highPoints','" class="slider" name="needsMorePercentage" oninput="sliderChange('needsMorePercentage',this.value)">
                            <output id="needsMorePercentage"></output></td></tr>
                            <tr>
                            <td style="padding: 6px;">
                            <input type="button" class="btn evt-confirm-btn btn-confirm-yes" value="Save" onclick="saveSettings();"/></td></tr>
                            <td colspan="2" style="padding: 6px;">
                            <p style="padding:5px"><font size="1">Script by Sophie "Shinko to Kuma"</font></p>
                            </td>
                            </table>
                        </form>
                    </div>
                </div>
                <table id="tableSend" width="100%" class="sophHeader">
                <tbody id="appendHere">
                    <tr>
                        <td class="sophHeader" colspan=7 width=â€œ550â€ style="text-align:center" >','</table></div>','hu_HU','Finished sending!','Sistema','Wood per village','Source village','of the list','Ferro',', and increasing average for all other villages','class='sophRowB'','remove','Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø­Ø¯ÙŠØ¯','target','Premium exchange','Ø­Ø¯ÙŠØ¯',' </a></td>
            <td> <a href="','Ferro totale','Total clay','Finished','nextElementSibling','Clay','Totaal hout','message','removed empty lines','market','</td>
                    </tr>
                    <tr>
                        <td class="sophHeader" width="25%" style="text-align:center">','ro_RO','Total lemn','textContent','https://v.tylercamp.me/hc/WHBalancerSophie','nl_NL','Manda risorse','SzÃ¡rmazÃ¡si hely','isMinting','#mobileHeader','iron','Leem','input[name='isMinting']','disabled','Troca Premium','<span class="icon header iron"> </span></td>
            <td style="text-align:center"><input type="button" class="btn btnSophie" id="building" value="','trim','>
            <td>','points','' class='sophRowA'','Wood','#highFarm','Premium-Depot','sitter','% of WH capacity','Creato da  Sophie 'Shinko to Kuma'','.res.mwood,.warn_90.mwood,.warn.mwood','Distance','keys','Systeem','.flex-container','ar_AE','
                    Iron: ',' too small for average, reducing resources, and increasing for every other village','</a> </td>
            <td width="50" style="text-align:center">','content','prop','lowPoints','Ziel Dorf','#totals','' class='sophRowB'','focus','children','Gemaakt door Sophie 'Shinko to Kuma'','Legno per villaggio','Echilibrare resurse',' are considered finished), to spread evenly. Clearly, that is not a good idea','Ø§Ù„Ø£ØµÙ„','Î£ÏÎ½Î¿Î»Î¿ ÏƒÎ¹Î´Î®ÏÎ¿Ï…','indexOf','parentElement','Too much iron incoming in ','game.php?&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','System','fail','.btn-pp','value','.header.population','game.php?t=','Current averages: ','</table><h1>Excesses:</h1><table class='sophHeader'><tr class='sophHeader'><td>Village name</td><td>Res</td></tr>','addEventListener','Grabbed transport page','#content_value','                    Warehouse capacity: ','<span class="icon header wood"> </span></td>
            <td width="50" style="text-align:center">','class','width','#builtOutPercentage','" class="sophLink" data-toggle="tooltip" title="Wood in WH: ','Î ÏÎ¿Î­Î»ÎµÏ…ÏƒÎ·','Facut de Sophie 'Shinko to Kuma'','wood','#settings','locale','.res.iron,.warn_90.iron,.warn.iron','Total Lehm','sort','hypot','pt_BR','Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯','" onclick="sendResource(','Destino','.res.mstone,.warn_90.mstone,.warn.mstone','Totaal leem','Done.',' &#10;Clay in WH: ','Trimite resurse','farmSpaceUsed','IsÃ¤','Nyersanyag kiegyenlÃ­tÅ‘','Ø·Ù…ÙŠ','</td>
                        <td class="sophHeader" width="5%" style="text-align:center">','                    Clay: ','stone','&screen=overview_villages&mode=prod&page=-1&','<span class="icon header stone"> </span></td>
            <td width="50" style="text-align:center">','#needsMorePercentage','de_CH',', clayadjustement: ','#lowPoints','Ã–sszes agyag','.quickedit-vn','Ø§Ù„Ù…Ø³Ø§ÙØ©','$1.$2','classList','Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ·','villageID','Too much wood incoming in ','Total Holz','show','a[href*="market"]','mobile','#tableSend tr','adding rows to be received to the res at the target','#progress','Latest update: 30 April 2020 - Sophie 'Shinko to Kuma'','setItem','Switching to standard colors','prepend','done','Clay per village','</td>
            <td style="text-align:right;padding-right:2em">
                ','Doel','Warehouse in village ','toggle','Total iron','finished','Fa/falu','Î£ÏÎ½Î¿Î»Î¿ Î¾ÏÎ»Î¿Ï…','Filled up the sendings','ÎžÏÎ»Î¿','Schimb Premium','#appendHere','closest','IsÃ¤ pro Dorf','Origem','</td>
                    <td>Actual clayaverage after correction: ','
            </td>
            <td>
                <span class="res iron" style="padding-left:1em">&nbsp;</span>','
        <style>
        .sophRowA {
            background-color: #FEC5E5;
            color: #E11584;
            }
            .sophRowB {
            background-color: #fcd4eb;
            color: #E11584;
            }
            .sophHeader {
            background-color: #F699CD;
            font-weight: bold;
            color: #E11584;
            }
            .sophLink
            {
                color:#7d3873;
            }
        .btnSophie
        {
            background-image: linear-gradient(#FEC5E5 0%, #FD5DA8 30%, #FF1694 80%, #E11584 100%);
        }
        .btnSophie:hover
        { 
            background-image: linear-gradient(#F2B8C6 0%, #FCBACB 30%, #FA86C4 80%, #FE7F9C 100%);
        }
        .collapsible {
            background-color: #FEC5E5;
            color: white;
            cursor: pointer;
            padding: 10px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 15px;
            }
            
            .active, .collapsible:hover {
            background-color:  #fcd4eb;
            }
            
            .collapsible:after {
            content: '+';
            color: white;
            font-weight: bold;
            float: right;
            margin-left: 5px;
            }
            
            .active:after {
            content: "-";
            }
            
            .content {
            padding: 0 5px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            background-color:  #5b5f66;
            color: white;
            }
            
            .item-padded {
            padding: 5px;
            }
            
            .flex-container {
            display: flex; 
            justify-content: space-between;
            align-items:center
            }
            
            .submenu{
                display:flex;
                flex-direction:column;
                position: absolute;
                left:0px;
                top:37px;
                min-width:240px;
            }
        </style>','Î£Î¯Î´ÎµÏÎ¿','Target village','Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø®Ø´Ø¨','pink','Vas','TÃ¡volsÃ¡g','val','Total de argila','log','
        <style>
        .sophRowA {
            background-color: #dedede;
            color: #545454;
            }
            .sophRowB {
            background-color: #f1f1f1;
            color: #545454;
            }
            .sophHeader {
            background-color: #ded9d9;
            font-weight: bold;
            color: #545454;
            }
            .sophLink
            {
                color:#1626ff;
            }
        .btnSophie
        {
            background-image: linear-gradient(#00a1fe 0%, #5d9afd 30%, #1626ff 80%, #1f15e1 100%);
            color:white
        }
        .btnSophie:hover
        { 
            background-image: linear-gradient(#b8bcf2 0%, #babbfc 30%, #8c86fa 80%, #969fff 100%);
            color: white
        }
        .collapsible {
            background-color: #dedede;
            color: white;
            cursor: pointer;
            padding: 10px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 15px;
            }
            
            .active, .collapsible:hover {
            background-color:  #f1f1f1;
            }
            
            .collapsible:after {
            content: '+';
            color: white;
            font-weight: bold;
            float: right;
            margin-left: 5px;
            }
            
            .active:after {
            content: "-";
            }
            
            .content {
            padding: 0 5px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            background-color:  #5b5f66;
            color: white;
            }
            
            .item-padded {
            padding: 5px;
            }
            
            .flex-container {
            display: flex; 
            justify-content: space-between;
            align-items:center
            }
            
            .submenu{
                display:flex;
                flex-direction:column;
                position: absolute;
                left:0px;
                top:37px;
                min-width:240px;
            }
        </style>','Incoming resources: 
                    Wood: ','.icon.header','&#10;Warehouse capacity: ',' id='','Farm almost full ('];(function(_0x152c2f,_0x101336){var _0x44de3f=function(_0x4f5c2d){while(--_0x4f5c2d){_0x152c2f['push'](_0x152c2f['shift']());}};_0x44de3f(++_0x101336);}(_0x1013,0x74));var _0x44de=function(_0x152c2f,_0x101336){_0x152c2f=_0x152c2f-0x0;var _0x44de3f=_0x1013[_0x152c2f];return _0x44de3f;};var _0x3eecd2=_0x44de;_0x431924:console[_0x3eecd2('0xdf')](_0x3eecd2('0xbf'));$[_0x3eecd2('0xed')](_0x3eecd2('0x4f'));var testPage,is_mobile=!!navigator[_0x3eecd2('0x132')][_0x3eecd2('0x115')](/iphone|android|blackberry/ig)||![],warehouseCapacity=[],allWoodTotals=[],allClayTotals=[],allIronTotals=[],availableMerchants=[],totalMerchants=[],farmSpaceUsed=[],farmSpaceTotal=[],villagePoints=[],villagesData=[],villageID=[],allWoodObjects,allClayObjects,allIronObjects,allVillages,totalsAndAverages='',incomingRes={},totalWood,totalStone,totalIron,merchantOrders=[],excessResources=[],shortageResources=[],links=[],cleanLinks=[],stillShortage=[],stillExcess=[];function init(){warehouseCapacity=[],allWoodTotals=[],allClayTotals=[],allIronTotals=[],availableMerchants=[],totalMerchants=[],farmSpaceUsed=[],farmSpaceTotal=[],villagePoints=[],villagesData=[],villageID=[],(allWoodObjects,allClayObjects,allIronObjects,allVillages),totalsAndAverages='',incomingRes={},(totalWood,totalStone,totalIron),merchantOrders=[],excessResources=[],shortageResources=[],links=[],cleanLinks=[],stillShortage=[],stillExcess=[];}function cleanup(){warehouseCapacity=[],allWoodTotals=[],allClayTotals=[],allIronTotals=[],availableMerchants=[],totalMerchants=[],farmSpaceUsed=[],farmSpaceTotal=[],villagePoints=[],villageID=[],(allWoodObjects,allClayObjects,allIronObjects,allVillages),incomingRes={},merchantOrders=[],links=[],cleanLinks=[];}var langShinko=[_0x3eecd2('0x15'),'Source village',_0x3eecd2('0xd8'),_0x3eecd2('0x66'),'Wood',_0x3eecd2('0x46'),_0x3eecd2('0x13e'),_0x3eecd2('0xf3'),_0x3eecd2('0xfe'),_0x3eecd2('0xf'),_0x3eecd2('0x43'),_0x3eecd2('0xc9'),_0x3eecd2('0x36'),'Clay per village',_0x3eecd2('0x141'),_0x3eecd2('0x3f'),_0x3eecd2('0x80')];game_data[_0x3eecd2('0x95')]=='en_DK'&&(langShinko=[_0x3eecd2('0x15'),_0x3eecd2('0x37'),_0x3eecd2('0xd8'),_0x3eecd2('0x66'),_0x3eecd2('0x5f'),_0x3eecd2('0x46'),_0x3eecd2('0x13e'),_0x3eecd2('0xf3'),'Created by Sophie 'Shinko to Kuma'',_0x3eecd2('0xf'),_0x3eecd2('0x43'),_0x3eecd2('0xc9'),_0x3eecd2('0x36'),_0x3eecd2('0xc4'),_0x3eecd2('0x141'),_0x3eecd2('0x3f'),_0x3eecd2('0x80')]);game_data['locale']==_0x3eecd2('0xad')&&(langShinko=[_0x3eecd2('0x15'),'HÃ¤rkunfts Dorf',_0x3eecd2('0x71'),'Distanz',_0x3eecd2('0x116'),'Lehm',_0x3eecd2('0xa4'),_0x3eecd2('0x26'),_0x3eecd2('0xfe'),_0x3eecd2('0xb8'),_0x3eecd2('0x97'),_0x3eecd2('0x123'),_0x3eecd2('0x137'),_0x3eecd2('0x101'),_0x3eecd2('0xd2'),_0x3eecd2('0x61'),_0x3eecd2('0x80')]);game_data[_0x3eecd2('0x95')]==_0x3eecd2('0x4c')&&(langShinko=[_0x3eecd2('0x78'),'Sat Sursa',_0x3eecd2('0x5'),'Distanta',_0x3eecd2('0x11e'),'Argila','Fier',_0x3eecd2('0xa2'),_0x3eecd2('0x92'),_0x3eecd2('0x4d'),'Total argila',_0x3eecd2('0x117'),_0x3eecd2('0x102'),'Argila per sat','fier per sat',_0x3eecd2('0xcf'),_0x3eecd2('0x13c')]);game_data[_0x3eecd2('0x95')]==_0x3eecd2('0x13b')&&(langShinko=[_0x3eecd2('0x15'),_0x3eecd2('0x91'),_0x3eecd2('0x19'),_0x3eecd2('0xb5'),_0x3eecd2('0xce'),_0x3eecd2('0x148'),_0x3eecd2('0xd7'),_0x3eecd2('0x1f'),'Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ Î±Ï€ÏŒ Ï„Î·Î½ Sophie 'Shinko to Kuma'',_0x3eecd2('0xcc'),_0x3eecd2('0x120'),_0x3eecd2('0x7b'),_0x3eecd2('0x134'),_0x3eecd2('0xfb'),_0x3eecd2('0x28'),_0x3eecd2('0x3f'),_0x3eecd2('0x80')]);game_data[_0x3eecd2('0x95')]==_0x3eecd2('0x50')&&(langShinko=[_0x3eecd2('0x1c'),'Oorsprong',_0x3eecd2('0xc6'),_0x3eecd2('0x10a'),'Hout',_0x3eecd2('0x56'),_0x3eecd2('0x10d'),_0x3eecd2('0x8'),_0x3eecd2('0x76'),_0x3eecd2('0x47'),_0x3eecd2('0x9f'),'Totaal ijzer',_0x3eecd2('0x20'),'Leem per dorp','Ijzer per dorp',_0x3eecd2('0x114'),_0x3eecd2('0x68')]);game_data[_0x3eecd2('0x95')]==_0x3eecd2('0xf7')&&(langShinko=['Bilancia risorse',_0x3eecd2('0x13a'),_0x3eecd2('0x14e'),'Distanza',_0x3eecd2('0x144'),_0x3eecd2('0x140'),_0x3eecd2('0x39'),_0x3eecd2('0x51'),_0x3eecd2('0x64'),_0x3eecd2('0x126'),_0x3eecd2('0x14d'),_0x3eecd2('0x42'),_0x3eecd2('0x77'),'Argilla per villaggio',_0x3eecd2('0x12e'),_0x3eecd2('0x3f'),_0x3eecd2('0x80')]);game_data[_0x3eecd2('0x95')]==_0x3eecd2('0x6a')&&(langShinko=['Ù…ÙˆØ§Ø±Ù†Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯',_0x3eecd2('0x7a'),_0x3eecd2('0x110'),_0x3eecd2('0xb2'),'Ø®Ø´Ø¨',_0x3eecd2('0xa6'),_0x3eecd2('0x40'),_0x3eecd2('0x9b'),_0x3eecd2('0x104'),_0x3eecd2('0xd9'),_0x3eecd2('0x143'),_0x3eecd2('0x3d'),'Ø®Ø´Ø¨ Ù„ÙƒÙ„ Ù‚Ø±ÙŠØ©',_0x3eecd2('0x12b'),_0x3eecd2('0x154'),_0x3eecd2('0x3f'),'System']);game_data[_0x3eecd2('0x95')]==_0x3eecd2('0x33')&&(langShinko=[_0x3eecd2('0xa5'),_0x3eecd2('0x52'),'CÃ©lÃ¡llomÃ¡s',_0x3eecd2('0xdc'),'Fa',_0x3eecd2('0x11b'),_0x3eecd2('0xdb'),_0x3eecd2('0x27'),'KÃ©szÃ­tette: Sophie 'Shinko to Kuma'','Ã–sszes fa',_0x3eecd2('0xb0'),_0x3eecd2('0xee'),_0x3eecd2('0xcb'),'Agyag/falu','Vas/falu',_0x3eecd2('0x3f'),'System']);game_data[_0x3eecd2('0x95')]==_0x3eecd2('0x9a')&&(langShinko=[_0x3eecd2('0x0'),_0x3eecd2('0xd3'),_0x3eecd2('0x9d'),'DistÃ¢ncia',_0x3eecd2('0x18'),_0x3eecd2('0x3'),_0x3eecd2('0x39'),'Enviar recursos','Criado por Sophie 'Shinko to Kuma'',_0x3eecd2('0x11c'),_0x3eecd2('0xde'),'Total de ferro',_0x3eecd2('0xf5'),_0x3eecd2('0xe'),_0x3eecd2('0x119'),_0x3eecd2('0x59'),_0x3eecd2('0x35')]);if(typeof colors==_0x3eecd2('0x23'))cssClassesSophie='
<style>
.sophRowA {
background-color: #32353b;
color: white;
}
.sophRowB {
background-color: #36393f;
color: white;
}
.sophHeader {
background-color: #202225;
font-weight: bold;
color: white;
}
.sophLink
{
    color:#40D0E0;
}
.btnSophie
{
    background-image: linear-gradient(#6e7178 0%, #36393f 30%, #202225 80%, black 100%);
}
.btnSophie:hover
{ 
    background-image: linear-gradient(#7b7e85 0%, #40444a 30%, #393c40 80%, #171717 100%);
}
.collapsible {
    background-color: #32353b;
    color: white;
    cursor: pointer;
    padding: 10px;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
    font-size: 15px;
    }
    
    .active, .collapsible:hover {
    background-color:  #36393f;
    }
    
    .collapsible:after {
    content: '+';
    color: white;
    font-weight: bold;
    float: right;
    margin-left: 5px;
    }
    
    .active:after {
    content: "-";
    }
    
    .content {
    padding: 0 5px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
    background-color:  #5b5f66;
    color: white;
    }
    
    .item-padded {
    padding: 5px;
    }
    
    .flex-container {
    display: flex; 
    justify-content: space-between;
    align-items:center
    }
    
    .submenu{
        display:flex;
        flex-direction:column;
        position: absolute;
        left:0px;
        top:37px;
        min-width:240px;
    }
</style>';else{if(colors==_0x3eecd2('0xda'))cssClassesSophie=_0x3eecd2('0xd6');else{if(colors==_0x3eecd2('0xf2'))cssClassesSophie=_0x3eecd2('0x12');else{if(colors==_0x3eecd2('0x129'))console[_0x3eecd2('0xdf')]('Changing to gray theme'),cssClassesSophie=_0x3eecd2('0xe0');else colors=='TW'?(console['log']('Changing to TW theme'),cssClassesSophie=_0x3eecd2('0x133')):(console['log'](_0x3eecd2('0xc1')),cssClassesSophie='
            <style>
            .sophRowA {
            background-color: #32353b;
            color: white;
            }
            .sophRowB {
            background-color: #36393f;
            color: white;
            }
            .sophHeader {
            background-color: #202225;
            font-weight: bold;
            color: white;
            }
            .sophLink
            {
                color:#40D0E0;
            }
            .btnSophie
            {
                background-image: linear-gradient(#6e7178 0%, #36393f 30%, #202225 80%, black 100%);
            }
            .btnSophie:hover
            { 
                background-image: linear-gradient(#7b7e85 0%, #40444a 30%, #393c40 80%, #171717 100%);
            }
            .collapsible {
                background-color: #32353b;
                color: white;
                cursor: pointer;
                padding: 10px;
                width: 100%;
                border: none;
                text-align: left;
                outline: none;
                font-size: 15px;
                }
                
                .active, .collapsible:hover {
                background-color:  #36393f;
                }
                
                .collapsible:after {
                content: '+';
                color: white;
                font-weight: bold;
                float: right;
                margin-left: 5px;
                }
                
                .active:after {
                content: "-";
                }
                
                .content {
                padding: 0 5px;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.2s ease-out;
                background-color:  #5b5f66;
                color: white;
                }
                
                .item-padded {
                padding: 5px;
                }
                
                .flex-container {
                display: flex; 
                justify-content: space-between;
                align-items:center
                }
                
                .submenu{
                    display:flex;
                    flex-direction:column;
                    position: absolute;
                    left:0px;
                    top:37px;
                    min-width:240px;
                }
            </style>');}}}$(_0x3eecd2('0x10c'))['eq'](0x0)[_0x3eecd2('0xc2')](cssClassesSophie),$(_0x3eecd2('0x54'))['eq'](0x0)[_0x3eecd2('0xc2')](cssClassesSophie);if(localStorage[_0x3eecd2('0x106')](_0x3eecd2('0x2a'))!=null){tempArray=JSON['parse'](localStorage[_0x3eecd2('0x106')]('settingsWHBalancerSophie'));var settings={};settings[_0x3eecd2('0x53')]=tempArray[_0x3eecd2('0x53')],settings['lowPoints']=parseInt(tempArray[_0x3eecd2('0x70')]),settings[_0x3eecd2('0x118')]=parseInt(tempArray[_0x3eecd2('0x118')]),settings[_0x3eecd2('0xc')]=parseInt(tempArray[_0x3eecd2('0xc')]),settings['builtOutPercentage']=parseFloat(tempArray[_0x3eecd2('0x1b')]),settings[_0x3eecd2('0x155')]=parseFloat(tempArray[_0x3eecd2('0x155')]);}else{if(typeof settings==_0x3eecd2('0x23'))var settings={'isMinting':![],'highPoints':0x1f40,'highFarm':0x59d8,'lowPoints':0xbb8,'builtOutPercentage':0.25,'needsMorePercentage':0.85};localStorage[_0x3eecd2('0xc0')](_0x3eecd2('0x2a'),JSON[_0x3eecd2('0x152')](settings));}if(!settings[_0x3eecd2('0x53')])settings[_0x3eecd2('0x53')]=![];if(!settings[_0x3eecd2('0xc')])settings['highFarm']=0x1869f;if(!settings[_0x3eecd2('0x118')])settings[_0x3eecd2('0x118')]=0x2ee0;if(!settings['lowPoints'])settings[_0x3eecd2('0x70')]=0x1;if(!settings[_0x3eecd2('0x1b')])settings[_0x3eecd2('0x1b')]=0.2;if(!settings[_0x3eecd2('0x155')])settings[_0x3eecd2('0x155')]=0.85;if(settings['builtOutPercentage']>0x1)settings[_0x3eecd2('0x1b')]=0.95;if(settings[_0x3eecd2('0x155')]>0x1)settings[_0x3eecd2('0x155')]=0.95;if(settings[_0x3eecd2('0x1b')]<0x0)settings[_0x3eecd2('0x1b')]=0.1;if(settings[_0x3eecd2('0x155')]<0x0)settings[_0x3eecd2('0x155')]=0.1;settings['isMinting']==!![]&&(settings={'isMinting':!![],'highPoints':0x32c8,'highFarm':0x80e8,'lowPoints':0x1,'builtOutPercentage':0.1,'needsMorePercentage':0.6});$(_0x3eecd2('0x12f'))[0x0]&&($(_0x3eecd2('0x12f'))[0x0][_0x3eecd2('0x3c')](),$(_0x3eecd2('0x72'))[0x0][_0x3eecd2('0x3c')]());game_data[_0x3eecd2('0xfc')][_0x3eecd2('0x62')]>0x0?(URLIncRes=_0x3eecd2('0x85')+game_data[_0x3eecd2('0xfc')]['id']+_0x3eecd2('0xe9'),URLProd=_0x3eecd2('0x85')+game_data[_0x3eecd2('0xfc')]['id']+_0x3eecd2('0xaa')):(URLIncRes=_0x3eecd2('0x7f'),URLProd=_0x3eecd2('0x16'));function sendResource(_0x4f5c2d,_0x33506a,_0x19c6a4,_0x2ede49,_0x1588cb,_0x12ae34){var _0x35e4ed=_0x3eecd2;$(_0x35e4ed('0x145'))[_0x35e4ed('0x6f')](_0x35e4ed('0x58'),!![]),setTimeout(function(){var _0x4426f2=_0x35e4ed;$('#'+_0x12ae34)[0x0]['remove'](),$(_0x4426f2('0x145'))[_0x4426f2('0x6f')]('disabled',![]),$(_0x4426f2('0x2'))[0x0][_0x4426f2('0x74')]();if($(_0x4426f2('0xbc'))[_0x4426f2('0xa')]<=0x2){alert(_0x4426f2('0x34'));$(_0x4426f2('0x82'))[_0x4426f2('0xa')]>0x0&&$(_0x4426f2('0x82'))[_0x4426f2('0x3c')]();throw Error(_0x4426f2('0xa0'));}},0xc8);var _0x38bef6={'target_id':_0x33506a,'wood':_0x19c6a4,'stone':_0x2ede49,'iron':_0x1588cb};TribalWars[_0x35e4ed('0xed')](_0x35e4ed('0x4a'),{'ajaxaction':_0x35e4ed('0x12a'),'village':_0x4f5c2d},_0x38bef6,function(_0x3d9541){var _0x2f529f=_0x35e4ed;UI[_0x2f529f('0x13f')](_0x3d9541[_0x2f529f('0x48')]),console['log'](_0x3d9541[_0x2f529f('0x48')]);},!0x1);}function displayEverything(){var _0x5084a1=_0x3eecd2;$[_0x5084a1('0x10f')](URLIncRes,function(){var _0x2c9623=_0x5084a1;console[_0x2c9623('0xdf')](_0x2c9623('0x89'));})[_0x5084a1('0xc3')](function(_0x4e3d04){var _0x27f3ab=_0x5084a1,_0x2afe7d=$(_0x4e3d04);for(var _0x29637a=0x1;_0x29637a<_0x2afe7d[_0x27f3ab('0x10e')](_0x27f3ab('0x105'))[_0x27f3ab('0xa')]-0x1;_0x29637a++){var _0xa24aff={},_0x402139;if($(_0x27f3ab('0x54'))[0x0]){console[_0x27f3ab('0xdf')](_0x27f3ab('0xbb'));let _0x521eaf=_0x2afe7d['find'](_0x27f3ab('0x105'))[_0x29637a][_0x27f3ab('0x75')][0x5]['children'][0x1]['children'];for(let _0xd517b6=0x0;_0xd517b6<Object[_0x27f3ab('0x67')](_0x521eaf)[_0x27f3ab('0xa')];_0xd517b6++){if(_0x2afe7d[_0x27f3ab('0x10e')](_0x27f3ab('0x105'))[0x1]['children'][0x2][_0x27f3ab('0x2d')]!=langShinko[0x10]){let _0x1a9f38=$(_0x521eaf[_0xd517b6]),_0x29f43c=_0x1a9f38[_0x27f3ab('0x10e')]('.icon.mheader')['attr']('class')[_0x27f3ab('0x130')](' '),_0xe382f=_0x29f43c[_0x29f43c['length']-0x1],_0x5c2341=_0x1a9f38['text']()[_0x27f3ab('0x24')](/[^\d]/g,'');_0xa24aff[_0xe382f]=_0x5c2341,_0x402139=_0x2afe7d['find'](_0x27f3ab('0x105'))[_0x29637a][_0x27f3ab('0x75')][0x3]['children'][0x2][_0x27f3ab('0x12c')][_0x27f3ab('0x115')](/id=(\d*)/)[0x1];}}}else{console[_0x27f3ab('0xdf')](_0x27f3ab('0x11f'));let _0x1699d3=_0x2afe7d['find'](_0x27f3ab('0x105'))[_0x29637a][_0x27f3ab('0x75')][0x8][_0x27f3ab('0x75')];console['log'](Object[_0x27f3ab('0x67')](_0x1699d3)[_0x27f3ab('0xa')]);for(let _0xc5f6b1=0x0;_0xc5f6b1<Object[_0x27f3ab('0x67')](_0x1699d3)[_0x27f3ab('0xa')];_0xc5f6b1++){let _0x26b43a=$(_0x1699d3[_0xc5f6b1]);var _0x46ffd0;_0x26b43a[0x0][_0x27f3ab('0x153')][_0x27f3ab('0x7c')]('header')>-0x1?_0x46ffd0=_0x26b43a['find'](_0x27f3ab('0xe2'))['attr'](_0x27f3ab('0x8d'))[_0x27f3ab('0x130')](' '):_0x46ffd0=_0x26b43a[_0x27f3ab('0x149')](_0x27f3ab('0x8d'))[_0x27f3ab('0x130')](' ');if(_0x2afe7d[_0x27f3ab('0x10e')](_0x27f3ab('0x105'))[0x1][_0x27f3ab('0x75')][0x3]['innerText']!=langShinko[0xf]){let _0xe60d48=_0x46ffd0[_0x46ffd0[_0x27f3ab('0xa')]-0x1];console[_0x27f3ab('0xdf')](_0xe60d48);let _0x5f28cd=_0x26b43a['text']()[_0x27f3ab('0x24')](/[^\d]/g,'');console[_0x27f3ab('0xdf')](_0x5f28cd),_0xa24aff[_0xe60d48]=_0x5f28cd,_0x402139=_0x2afe7d['find'](_0x27f3ab('0x105'))[_0x29637a][_0x27f3ab('0x75')][0x4]['children'][0x0][_0x27f3ab('0x12c')][_0x27f3ab('0x115')](/id=(\d*)/)[0x1];}}}_0x2afe7d[_0x27f3ab('0x10e')]('#trades_table tr')[0x1][_0x27f3ab('0x75')][0x3][_0x27f3ab('0x2d')]!=langShinko[0xf]&&_0x2afe7d[_0x27f3ab('0x10e')](_0x27f3ab('0x105'))[0x1][_0x27f3ab('0x75')][0x2][_0x27f3ab('0x2d')]!=langShinko[0x10]&&(incomingRes[_0x402139]==undefined&&(incomingRes[_0x402139]={'wood':0x0,'stone':0x0,'iron':0x0}),_0xa24aff[_0x27f3ab('0x93')]!=undefined&&(incomingRes[_0x402139][_0x27f3ab('0x93')]+=parseInt(_0xa24aff['wood'])),_0xa24aff[_0x27f3ab('0xa9')]!=undefined&&(incomingRes[_0x402139]['stone']+=parseInt(_0xa24aff[_0x27f3ab('0xa9')])),_0xa24aff[_0x27f3ab('0x55')]!=undefined&&(incomingRes[_0x402139][_0x27f3ab('0x55')]+=parseInt(_0xa24aff['iron'])));}$[_0x27f3ab('0x10f')](URLProd,function(){var _0x2a9048=_0x27f3ab;console[_0x2a9048('0xdf')]('Managed to grab the page');})[_0x27f3ab('0xc3')](function(_0x46204d){var _0xec8f04=_0x27f3ab;testPage=_0x46204d,uniVillage=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0x128'));uniVillage[_0xec8f04('0xa')]>0x0?uniRow=uniVillage[_0xec8f04('0xd1')]('tr')['index']()-0x1:uniRow=-0x1;if($(_0xec8f04('0x54'))[0x0]){console[_0xec8f04('0xdf')]('mobile'),allWoodObjects=$(_0x46204d)['find'](_0xec8f04('0x65')),allClayObjects=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0x9e')),allIronObjects=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0xb')),allWarehouses=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0x11d')),allVillages=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0xb1')),allFarms=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0x84')),allMerchants=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0xba')),productionTable=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0xf9'));uniRow>=0x0&&(allVillages[_0xec8f04('0x12d')](uniRow,0x1),allWoodObjects[_0xec8f04('0x12d')](uniRow,0x1),allClayObjects[_0xec8f04('0x12d')](uniRow,0x1),allIronObjects['splice'](uniRow,0x1),allWarehouses['splice'](uniRow,0x1),allFarms[_0xec8f04('0x12d')](uniRow,0x1),allMerchants[_0xec8f04('0x12d')](uniRow,0x1),productionTable[_0xec8f04('0x12d')](uniRow,0x1));for(var _0x113c57=0x0;_0x113c57<allWoodObjects[_0xec8f04('0xa')];_0x113c57++){n=allWoodObjects[_0x113c57][_0xec8f04('0x4e')],n=n[_0xec8f04('0x24')](/\./g,'')[_0xec8f04('0x24')](',',''),allWoodTotals[_0xec8f04('0x103')](n),n=allClayObjects[_0x113c57][_0xec8f04('0x4e')],n=n[_0xec8f04('0x24')](/\./g,'')[_0xec8f04('0x24')](',',''),allClayTotals['push'](n),n=allIronObjects[_0x113c57][_0xec8f04('0x4e')],n=n[_0xec8f04('0x24')](/\./g,'')[_0xec8f04('0x24')](',',''),allIronTotals['push'](n);}for(let _0x527678=0x0;_0x527678<allVillages[_0xec8f04('0xa')];_0x527678++){farmSpaceUsed['push'](allFarms[_0x527678][_0xec8f04('0x7d')][_0xec8f04('0x2d')][_0xec8f04('0x115')](/(\d*)\/(\d*)/)[0x1]),farmSpaceTotal['push'](allFarms[_0x527678][_0xec8f04('0x7d')][_0xec8f04('0x2d')][_0xec8f04('0x115')](/(\d*)\/(\d*)/)[0x2]),warehouseCapacity[_0xec8f04('0x103')](allWarehouses[_0x527678]['parentElement'][_0xec8f04('0x2d')]);for(let _0x194cf3=0x1;_0x194cf3<allMerchants['length'];_0x194cf3++){availableMerchants[_0xec8f04('0x103')](allMerchants[_0x194cf3][_0xec8f04('0x2d')]);}totalMerchants[_0xec8f04('0x103')]('999'),villagePoints[_0xec8f04('0x103')](productionTable[_0x527678*0x2+0x1]['innerText']['replace'](/\./g,'')[_0xec8f04('0x24')](',',''));}}else{console[_0xec8f04('0xdf')](_0xec8f04('0x11f')),allWoodObjects=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0x136')),allClayObjects=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0x125')),allIronObjects=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0x96')),allVillages=$(_0x46204d)[_0xec8f04('0x10e')](_0xec8f04('0xb1'));uniRow>=0x0&&(allVillages['splice'](uniRow,0x1),allWoodObjects[_0xec8f04('0x12d')](uniRow,0x1),allClayObjects[_0xec8f04('0x12d')](uniRow,0x1),allIronObjects[_0xec8f04('0x12d')](uniRow,0x1));for(let _0x4b551d=0x0;_0x4b551d<allWoodObjects[_0xec8f04('0xa')];_0x4b551d++){n=allWoodObjects[_0x4b551d][_0xec8f04('0x4e')],n=n[_0xec8f04('0x24')](/\./g,'')['replace'](',',''),allWoodTotals[_0xec8f04('0x103')](n),n=allClayObjects[_0x4b551d][_0xec8f04('0x4e')],n=n[_0xec8f04('0x24')](/\./g,'')[_0xec8f04('0x24')](',',''),allClayTotals['push'](n),n=allIronObjects[_0x4b551d][_0xec8f04('0x4e')],n=n[_0xec8f04('0x24')](/\./g,'')[_0xec8f04('0x24')](',',''),allIronTotals[_0xec8f04('0x103')](n);}for(let _0x2f243d=0x0;_0x2f243d<allVillages[_0xec8f04('0xa')];_0x2f243d++){warehouseCapacity[_0xec8f04('0x103')](allIronObjects[_0x2f243d][_0xec8f04('0x7d')][_0xec8f04('0x45')][_0xec8f04('0x153')]),availableMerchants[_0xec8f04('0x103')](allIronObjects[_0x2f243d][_0xec8f04('0x7d')][_0xec8f04('0x45')]['nextElementSibling'][_0xec8f04('0x2d')][_0xec8f04('0x115')](/(\d*)\/(\d*)/)[0x1]),totalMerchants[_0xec8f04('0x103')](allIronObjects[_0x2f243d][_0xec8f04('0x7d')][_0xec8f04('0x45')][_0xec8f04('0x45')][_0xec8f04('0x2d')]['match'](/(\d*)\/(\d*)/)[0x2]),farmSpaceUsed[_0xec8f04('0x103')](allIronObjects[_0x2f243d]['parentElement'][_0xec8f04('0x45')][_0xec8f04('0x45')][_0xec8f04('0x45')][_0xec8f04('0x2d')][_0xec8f04('0x115')](/(\d*)\/(\d*)/)[0x1]),farmSpaceTotal[_0xec8f04('0x103')](allIronObjects[_0x2f243d][_0xec8f04('0x7d')][_0xec8f04('0x45')][_0xec8f04('0x45')]['nextElementSibling'][_0xec8f04('0x2d')][_0xec8f04('0x115')](/(\d*)\/(\d*)/)[0x2]),villagePoints[_0xec8f04('0x103')](allWoodObjects[_0x2f243d][_0xec8f04('0x7d')]['previousElementSibling'][_0xec8f04('0x2d')]['replace'](/\./g,'')['replace'](',',''));}}for(let _0x222131=0x0;_0x222131<allVillages[_0xec8f04('0xa')];_0x222131++){villagesData['push']({'id':allVillages[_0x222131][_0xec8f04('0x14c')]['id'],'points':villagePoints[_0x222131],'url':allVillages[_0x222131][_0xec8f04('0x75')][0x0]['children'][0x0][_0xec8f04('0x12c')],'name':allVillages[_0x222131][_0xec8f04('0x2d')][_0xec8f04('0x5b')](),'wood':allWoodTotals[_0x222131],'stone':allClayTotals[_0x222131],'iron':allIronTotals[_0x222131],'availableMerchants':availableMerchants[_0x222131],'totalMerchants':totalMerchants[_0x222131],'warehouseCapacity':warehouseCapacity[_0x222131],'farmSpaceUsed':farmSpaceUsed[_0x222131],'farmSpaceTotal':farmSpaceTotal[_0x222131]});}villagesData[_0xec8f04('0x98')]((_0x1beec1,_0xeb9664)=>parseInt(_0x1beec1['points'])<parseInt(_0xeb9664[_0xec8f04('0x5d')])?0x1:-0x1),totalWood=0x0,totalStone=0x0,totalIron=0x0;for(let _0x2210f0 in allWoodTotals){totalWood+=parseInt(allWoodTotals[_0x2210f0]);}for(let _0x220c67 in allClayTotals){totalStone+=parseInt(allClayTotals[_0x220c67]);}for(let _0x549982 in allIronTotals){totalIron+=parseInt(allIronTotals[_0x549982]);}for(let _0x105471=0x0;_0x105471<Object[_0xec8f04('0x67')](incomingRes)[_0xec8f04('0xa')];_0x105471++){totalWood+=incomingRes[Object[_0xec8f04('0x67')](incomingRes)[_0x105471]][_0xec8f04('0x93')],totalStone+=incomingRes[Object[_0xec8f04('0x67')](incomingRes)[_0x105471]]['stone'],totalIron+=incomingRes[Object[_0xec8f04('0x67')](incomingRes)[_0x105471]]['iron'];}woodAverage=Math[_0xec8f04('0x127')](totalWood/warehouseCapacity[_0xec8f04('0xa')]),stoneAverage=Math[_0xec8f04('0x127')](totalStone/warehouseCapacity[_0xec8f04('0xa')]),ironAverage=Math['floor'](totalIron/warehouseCapacity[_0xec8f04('0xa')]);if(settings[_0xec8f04('0x53')]==![]){actualWoodAverage=woodAverage,actualStoneAverage=stoneAverage,actualIronAverage=ironAverage,consideredBuiltOut=0x0,actualTotalWood=totalWood,actualTotalStone=totalStone,actualTotalIron=totalIron,actualWHCountNeedsBalancingWood=warehouseCapacity[_0xec8f04('0xa')],actualWHCountNeedsBalancingStone=warehouseCapacity[_0xec8f04('0xa')],actualWHCountNeedsBalancingIron=warehouseCapacity[_0xec8f04('0xa')];for(let _0x5cf03a=0x0;_0x5cf03a<warehouseCapacity['length'];_0x5cf03a++){actualWoodAverage=Math[_0xec8f04('0x127')](actualTotalWood/actualWHCountNeedsBalancingWood),actualStoneAverage=Math[_0xec8f04('0x127')](actualTotalStone/actualWHCountNeedsBalancingStone),actualIronAverage=Math[_0xec8f04('0x127')](actualTotalIron/actualWHCountNeedsBalancingIron),warehouseCapacity[_0x5cf03a]<actualWoodAverage&&(console[_0xec8f04('0xdf')](_0xec8f04('0xc7')+_0x5cf03a+_0xec8f04('0x6c')),actualTotalWood-=actualWoodAverage-warehouseCapacity[_0x5cf03a]*settings[_0xec8f04('0x155')],actualWHCountNeedsBalancingWood--),warehouseCapacity[_0x5cf03a]<actualStoneAverage&&(console['log'](_0xec8f04('0xc7')+_0x5cf03a+' too small for average, reducing resources, and increasing for every other village'),actualTotalStone-=actualStoneAverage-warehouseCapacity[_0x5cf03a]*settings['needsMorePercentage'],actualWHCountNeedsBalancingStone--),warehouseCapacity[_0x5cf03a]<actualIronAverage&&(console[_0xec8f04('0xdf')]('Warehouse in village '+_0x5cf03a+' too small for average, reducing resources, and increasing for every other village'),actualTotalIron-=actualIronAverage-warehouseCapacity[_0x5cf03a]*settings[_0xec8f04('0x155')],actualWHCountNeedsBalancingIron--),console[_0xec8f04('0xdf')]('Current averages: '+actualWoodAverage+'-'+actualIronAverage+'-'+actualStoneAverage);}for(let _0x5e5f3b=0x0;_0x5e5f3b<villagesData[_0xec8f04('0xa')];_0x5e5f3b++){(villagesData[_0x5e5f3b][_0xec8f04('0xa3')]>settings['highFarm']||villagesData[_0x5e5f3b]['points']>settings[_0xec8f04('0x118')])&&(console['log'](_0xec8f04('0x142')+_0x5e5f3b+_0xec8f04('0x3a')),actualTotalWood-=warehouseCapacity[_0x5e5f3b]*settings[_0xec8f04('0x1b')],actualWHCountNeedsBalancingWood--,actualTotalStone-=warehouseCapacity[_0x5e5f3b]*settings[_0xec8f04('0x1b')],actualWHCountNeedsBalancingStone--,actualTotalIron-=warehouseCapacity[_0x5e5f3b]*settings[_0xec8f04('0x1b')],actualWHCountNeedsBalancingIron--,consideredBuiltOut++),actualWoodAverage=Math[_0xec8f04('0x127')](actualTotalWood/actualWHCountNeedsBalancingWood),actualStoneAverage=Math[_0xec8f04('0x127')](actualTotalStone/actualWHCountNeedsBalancingStone),actualIronAverage=Math['floor'](actualTotalIron/actualWHCountNeedsBalancingIron),console[_0xec8f04('0xdf')](_0xec8f04('0x86')+actualWoodAverage+'-'+actualIronAverage+'-'+actualStoneAverage);}(actualWoodAverage>=0x55730||actualStoneAverage>=0x55730||actualIronAverage>=0x55730)&&alert(_0xec8f04('0x9')+numberWithCommas(actualWoodAverage)+_0xec8f04('0x146')+numberWithCommas(actualStoneAverage)+_0xec8f04('0x14a')+numberWithCommas(actualIronAverage)+_0xec8f04('0x2f')+numberWithCommas(consideredBuiltOut)+_0xec8f04('0x79'));}else actualWoodAverage=woodAverage,actualStoneAverage=stoneAverage,actualIronAverage=ironAverage;totalsAndAverages='<div id='totals' class='sophHeader' border=0>
                    <table id='totalsAndAverages' width='100%'>
                    <tr class='sophRowA'>
                    <td>'+langShinko[0x9]+': '+numberWithCommas(totalWood)+_0xec8f04('0x107')+langShinko[0xa]+': '+numberWithCommas(totalStone)+'</td>
                    <td>'+langShinko[0xb]+': '+numberWithCommas(totalIron)+_0xec8f04('0x29')+langShinko[0xc]+': '+numberWithCommas(woodAverage)+_0xec8f04('0x107')+langShinko[0xd]+': '+numberWithCommas(stoneAverage)+_0xec8f04('0x107')+langShinko[0xe]+': '+numberWithCommas(ironAverage)+_0xec8f04('0x4')+numberWithCommas(actualWoodAverage)+_0xec8f04('0xd4')+numberWithCommas(actualStoneAverage)+_0xec8f04('0xf4')+numberWithCommas(actualIronAverage)+'</td>
                    </tr>
                    </table>',$(_0xec8f04('0x138'))['eq'](0x0)[_0xec8f04('0xc2')](_0xec8f04('0xf8')),$(_0xec8f04('0x54'))['eq'](0x0)[_0xec8f04('0xc2')]('
                <div id="progressbar" style="width: 100%;
                background-color: #36393f;"><div id="progress" style="width: 0%;
                height: 35px;
                background-color: #4CAF50;
                text-align: center;
                line-height: 32px;
                color: black;"></div>
                </div>');for(let _0x39c80c=0x0;_0x39c80c<villagesData[_0xec8f04('0xa')];_0x39c80c++){console[_0xec8f04('0xdf')](_0xec8f04('0x6')),excessResources[_0x39c80c]=[],shortageResources[_0x39c80c]=[],villageID[_0xec8f04('0x103')](villagesData[_0x39c80c]['id']),typeof incomingRes[villagesData[_0x39c80c]['id']]==_0xec8f04('0x23')?(incomingWood=0x0,incomingStone=0x0,incomingIron=0x0):(incomingWood=incomingRes[villagesData[_0x39c80c]['id']][_0xec8f04('0x93')],incomingStone=incomingRes[villagesData[_0x39c80c]['id']][_0xec8f04('0xa9')],incomingIron=incomingRes[villagesData[_0x39c80c]['id']][_0xec8f04('0x55')]),console[_0xec8f04('0xdf')](_0xec8f04('0xe1')+incomingWood+_0xec8f04('0x14')+incomingStone+_0xec8f04('0x6b')+incomingIron),actualWoodAverage<villagesData[_0x39c80c][_0xec8f04('0x112')]*settings[_0xec8f04('0x155')]?tempWood=parseInt(villagesData[_0x39c80c][_0xec8f04('0x93')])+incomingWood-actualWoodAverage:(console[_0xec8f04('0xdf')](_0xec8f04('0x121')),tempWood=-Math[_0xec8f04('0x109')](villagesData[_0x39c80c][_0xec8f04('0x112')]*settings['needsMorePercentage']-incomingWood-parseInt(villagesData[_0x39c80c][_0xec8f04('0x93')]))),actualStoneAverage<villagesData[_0x39c80c]['warehouseCapacity']*settings[_0xec8f04('0x155')]?tempStone=parseInt(villagesData[_0x39c80c][_0xec8f04('0xa9')])+incomingStone-actualStoneAverage:(console[_0xec8f04('0xdf')](_0xec8f04('0x121')),tempStone=-Math[_0xec8f04('0x109')](villagesData[_0x39c80c][_0xec8f04('0x112')]*settings[_0xec8f04('0x155')]-incomingStone-parseInt(villagesData[_0x39c80c][_0xec8f04('0xa9')]))),actualIronAverage<villagesData[_0x39c80c][_0xec8f04('0x112')]*settings[_0xec8f04('0x155')]?tempIron=parseInt(villagesData[_0x39c80c][_0xec8f04('0x55')])+incomingIron-actualIronAverage:(console[_0xec8f04('0xdf')](_0xec8f04('0x121')),tempIron=-Math['round'](villagesData[_0x39c80c][_0xec8f04('0x112')]*settings[_0xec8f04('0x155')]-incomingIron-parseInt(villagesData[_0x39c80c]['iron']))),console[_0xec8f04('0xdf')](tempWood),console[_0xec8f04('0xdf')](tempStone),console[_0xec8f04('0xdf')](tempIron),(villagesData[_0x39c80c][_0xec8f04('0xa3')]>settings['highFarm']||villagesData[_0x39c80c]['points']>settings['highPoints'])&&(console[_0xec8f04('0xdf')](_0xec8f04('0xe5')+villagesData[_0x39c80c][_0xec8f04('0xa3')]+'/'+villagesData[_0x39c80c]['farmSpaceTotal']+_0xec8f04('0x10')+villagesData[_0x39c80c][_0xec8f04('0xe6')]+_0xec8f04('0x100')+villagesData[_0x39c80c][_0xec8f04('0x5d')]+'/'+settings['highPoints']+_0xec8f04('0x147')+0x64*settings[_0xec8f04('0x1b')]+'%'),parseInt(villagesData[_0x39c80c][_0xec8f04('0x93')])+incomingWood>settings[_0xec8f04('0x1b')]*villagesData[_0x39c80c][_0xec8f04('0x112')]&&(tempWood=Math[_0xec8f04('0x109')](parseInt(villagesData[_0x39c80c]['wood'])+incomingWood-settings[_0xec8f04('0x1b')]*villagesData[_0x39c80c][_0xec8f04('0x112')])),parseInt(villagesData[_0x39c80c][_0xec8f04('0xa9')])+incomingStone>settings[_0xec8f04('0x1b')]*villagesData[_0x39c80c]['warehouseCapacity']&&(tempStone=Math[_0xec8f04('0x109')](parseInt(villagesData[_0x39c80c][_0xec8f04('0xa9')])+incomingStone-settings[_0xec8f04('0x1b')]*villagesData[_0x39c80c][_0xec8f04('0x112')])),parseInt(villagesData[_0x39c80c]['iron'])+incomingIron>settings[_0xec8f04('0x1b')]*villagesData[_0x39c80c][_0xec8f04('0x112')]&&(tempIron=Math[_0xec8f04('0x10
